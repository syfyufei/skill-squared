# Template Guide

Guide to customizing Skill-Squared templates for your needs.

## Overview

Skill-Squared uses templates to generate consistent, well-structured skill projects. Templates support variable substitution and conditional logic.

## Template Location

Templates are stored in the `templates/` directory:

```
templates/
â”œâ”€â”€ skill/              # Skill project templates
â”‚   â”œâ”€â”€ skill.md.template
â”‚   â”œâ”€â”€ marketplace.json.template
â”‚   â”œâ”€â”€ plugin.json.template
â”‚   â”œâ”€â”€ install.sh.template
â”‚   â”œâ”€â”€ README.md.template
â”‚   â””â”€â”€ CLAUDE.md.template
â””â”€â”€ command/            # Command templates
    â””â”€â”€ command.md.template
```

## Template Syntax

### Variable Substitution

Use `{{variable_name}}` to insert values:

```markdown
# {{skill_display_name}}

{{skill_description}}

Author: {{author_name}}
```

### Conditional Blocks

Use `{{#if variable}}...{{/if}}` for conditional content:

```markdown
{{#if has_handlers}}
## Python Handlers

This skill includes Python handlers for file operations.
{{/if}}
```

### If-Else Blocks

Use `{{#if variable}}...{{else}}...{{/if}}` for alternatives:

```markdown
{{#if custom_license}}
License: {{license_type}}
{{else}}
License: MIT
{{/if}}
```

## Available Variables

### User-Provided Variables

These are provided when creating a skill:

| Variable | Description | Example |
|----------|-------------|---------|
| `skill_name` | Kebab-case name | `data-analyzer` |
| `skill_description` | One-line description | `Analyze datasets...` |
| `author_name` | Author's full name | `John Doe` |
| `author_email` | Author's email | `john@example.com` |
| `github_user` | GitHub username | `johndoe` |
| `version` | Version number | `0.1.0` |

### Auto-Generated Variables

These are automatically generated by the template engine:

| Variable | Description | Example |
|----------|-------------|---------|
| `skill_display_name` | Title Case name | `Data Analyzer` |
| `repository_url` | Full GitHub URL | `https://github.com/johndoe/data-analyzer` |
| `timestamp` | UTC timestamp | `2025-03-04 14:30:00 UTC` |

## Customizing Templates

### 1. Edit Existing Templates

Modify templates in the `templates/` directory:

```bash
cd /path/to/skill-squared
nano templates/skill/skill.md.template
```

### 2. Add Custom Sections

Add your own content to templates:

```markdown
## Custom Section

This section will appear in all generated skills.

### Features
- Feature 1
- Feature 2
```

### 3. Add Custom Variables

To add custom variables, modify `handlers/templates.py`:

```python
def _enrich_context(self, context):
    enriched = context.copy()

    # Add your custom variable
    enriched['custom_field'] = 'custom value'

    return enriched
```

## Example Customizations

### Add Copyright Header

Edit `templates/skill/skill.md.template`:

```markdown
---
name: {{skill_name}}
description: {{skill_description}}
---

<!--
Copyright (c) {{year}} {{author_name}}
Licensed under {{license_type}} License
-->

# {{skill_display_name}}
...
```

### Custom README Structure

Edit `templates/skill/README.md.template`:

```markdown
# {{skill_display_name}}

> {{skill_description}}

## Quick Start

[Your custom quick start section]

## Features

- âœ¨ Feature 1
- ðŸš€ Feature 2
- ðŸ“Š Feature 3

...
```

### Custom Install Script

Edit `templates/skill/install.sh.template`:

```bash
#!/bin/bash

echo "Installing {{skill_display_name}}..."

# Your custom pre-install steps
{{#if custom_setup}}
echo "Running custom setup..."
./setup.sh
{{/if}}

# Standard installation
claude plugin marketplace add "$MARKETPLACE_PATH"
claude plugin install {{skill_name}}@{{skill_name}}-marketplace

echo "âœ… Installation complete!"
```

## Command Template Customization

The command template (`templates/command/command.md.template`) can be customized to match your project's command style:

```markdown
---
description: {{command_description}}
---

# {{command_display_name}}

## Purpose

{{command_instructions}}

## Implementation

1. Validate inputs
2. Process request
3. Return results

## Usage Example

\`\`\`
User: "{{example_request}}"
Assistant: [Processes using {{command_name}}]
\`\`\`

---

*Generated by {{skill_name}} v{{version}}*
```

## Template Best Practices

### 1. Keep Templates Generic

Templates should work for any skill:

```markdown
<!-- Good: Generic -->
This skill provides {{skill_description}}.

<!-- Avoid: Too specific -->
This skill analyzes CSV files.
```

### 2. Provide Placeholders

Use clear placeholders for sections users should customize:

```markdown
## Features

- [Feature 1]: [Description]
- [Feature 2]: [Description]
- [Feature 3]: [Description]
```

### 3. Include Documentation

Add comments explaining template sections:

```markdown
<!--
  This section describes when to use the skill.
  Customize the trigger phrases to match your skill's purpose.
-->
## When to Use This Skill

Trigger this skill when:
- [Trigger scenario 1]
- [Trigger scenario 2]
```

### 4. Use Conditional Blocks Sparingly

Only use conditionals for truly optional content:

```markdown
{{#if has_python_handlers}}
## Python Handlers

This skill uses Python for:
- {{handler_description}}
{{/if}}
```

## Testing Templates

After customizing templates, test by creating a dummy skill:

```bash
/skill-squared:create

# Fill in test values
Skill name: test-skill
Description: A test skill
...

# Verify generated files
cat test-skill/skills/test-skill.md
cat test-skill/README.md

# Clean up
rm -rf test-skill/
```

## Template Variables Reference

### Complete List

```
# User-provided
skill_name
skill_description
author_name
author_email
github_user
version (optional, default: 0.1.0)

# Auto-generated
skill_display_name
repository_url
timestamp

# Command-specific
command_name
command_description
command_display_name
command_instructions
```

## Advanced Customization

### Creating New Templates

1. Add template file to `templates/skill/` or `templates/command/`
2. Update `handlers/handlers.py` to render the template
3. Add template to `file_templates` dictionary:

```python
file_templates = {
    'custom/custom-file.txt': 'skill/custom.template',
}
```

### Template Inheritance

For complex projects, consider template inheritance:

1. Create base template: `templates/skill/base.md.template`
2. Create specific template that includes base: `templates/skill/specific.md.template`

### Conditional Sections Based on Skill Type

Add skill type variable and use conditionals:

```markdown
{{#if skill_type_data}}
## Data Processing

This skill specializes in data processing tasks.
{{/if}}

{{#if skill_type_api}}
## API Integration

This skill integrates with external APIs.
{{/if}}
```

## Troubleshooting

### Variable Not Substituted

Check:
1. Variable name is correct (case-sensitive)
2. Variable is in template context
3. Template uses `{{variable}}` not `{variable}`

### Template Not Found

Check:
1. Template file exists in `templates/` directory
2. File extension is `.template`
3. Path in `file_templates` dictionary is correct

### Syntax Error

Check:
1. All `{{#if}}` blocks have matching `{{/if}}`
2. No nested conditionals (not supported)
3. Variable names don't contain spaces

## See Also

- [Commands Reference](./commands-reference.md) - Command documentation
- [Best Practices](./best-practices.md) - Skill development guidelines
- [Main README](../README.md) - Overview and installation
